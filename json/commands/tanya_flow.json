{
  "flow_name": "/tanya",
  "summary": "Memulai alur untuk mengajukan pertanyaan terkait sebuah pesan.",
  "description": "Dipicu dengan me-reply sebuah pesan dengan perintah /tanya. Memulai proses interaktif di mana pengguna diminta memilih kategori pertanyaan.",
  "initial_checks": [
    {
      "name": "Pengecekan Fitur Bot",
      "action": "Memastikan fitur bot adalah 'tanya'. Jika tidak, sarankan bot yang benar."
    },
    {
      "name": "Pengecekan Kiriman Tertunda",
      "action": "Memanggil `MediaPackageRepository::hasPendingPost()` untuk memeriksa apakah pengguna sudah memiliki kiriman yang menunggu moderasi."
    },
    {
      "name": "Pengecekan Pesan Balasan (Reply)",
      "action": "Memastikan perintah me-reply pesan lain."
    },
    {
      "name": "Validasi Kepemilikan Pesan",
      "action": "Memastikan pengguna tidak bertanya pada pesan milik orang lain."
    }
  ],
  "main_flow": [
    {
      "step_number": 1,
      "name": "Pengaturan State Pengguna",
      "description": "Menyimpan state pengguna ke `awaiting_tanya_category` dan menyimpan konteks pesan yang dibalas (termasuk teksnya).",
      "action": "`UserRepository::setUserState()`"
    },
    {
      "step_number": 2,
      "name": "Permintaan Pemilihan Kategori",
      "description": "Mengirim pesan \"Silakan pilih kategori:\" dengan keyboard inline berisi pilihan kategori."
    }
  ],
  "next_flow": "Alur selanjutnya ditangani oleh `CallbackQueryHandler` yang akan memicu `TanyaCallback`."
}