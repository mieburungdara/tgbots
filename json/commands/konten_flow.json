{
  "flow_name": "/konten",
  "summary": "Menampilkan detail dan opsi untuk sebuah paket konten.",
  "description": "Dipanggil dengan format `/konten <ID_PUBLIK>`, perintah ini menampilkan informasi yang berbeda tergantung pada peran pengguna (penjual, pembeli, atau pengunjung).",
  "initial_checks": [
    {
      "name": "Validasi Format Perintah",
      "action": "Memastikan perintah memiliki parameter kedua (`<ID_PUBLIK>`)."
    },
    {
      "name": "Pencarian Paket",
      "action": "Mencari paket di database menggunakan `MediaPackageRepository::findByPublicId()`."
    }
  ],
  "main_flow": {
    "name": "Logika Tampilan Berdasarkan Peran",
    "description": "Menentukan informasi apa yang akan ditampilkan berdasarkan hubungan pengguna dengan paket.",
    "scenarios": [
      {
        "scenario_name": "Pengguna adalah Penjual",
        "action": "Menampilkan laporan penjualan lengkap untuk konten tersebut, termasuk statistik pendapatan, dan tombol aksi seperti 'Lihat Selengkapnya' dan 'Post ke Channel'."
      },
      {
        "scenario_name": "Pengguna Sudah Membeli atau Admin",
        "action": "Menampilkan deskripsi dan tombol 'Lihat Selengkapnya' untuk mengakses konten."
      },
      {
        "scenario_name": "Pengunjung Biasa",
        "action": "Menampilkan deskripsi dan tombol 'Beli' jika paket berstatus 'available'."
      }
    ]
  },
  "final_step": {
    "name": "Pengiriman Respons",
    "description": "Mengambil media thumbnail yang valid menggunakan `getThumbnailFile()` dan mengirimkannya ke pengguna dengan caption dan tombol yang relevan. Jika thumbnail tidak valid, kirim pesan error."
  }
}
