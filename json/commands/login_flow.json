{
  "flow_name": "/login",
  "summary": "Menghasilkan tautan login sekali pakai untuk panel web.",
  "description": "Membuat token login yang aman dan unik, menyimpannya di database, dan mengirimkannya kepada pengguna dalam bentuk tombol URL yang dapat diklik untuk otentikasi ke panel member.",
  "initial_checks": [
    {
      "name": "Pengecekan `BASE_URL`",
      "description": "Memeriksa apakah konstanta `BASE_URL` telah didefinisikan.",
      "action_if_true": "Kirim pesan error teknis (ERR:CFG01)."
    }
  ],
  "steps": [
    {
      "step_number": 1,
      "name": "Pembuatan dan Penyimpanan Token",
      "description": "Menghasilkan token acak, lalu memperbarui record pengguna di tabel `users` dengan token baru dan timestamp-nya.",
      "database_action": "UPDATE users SET login_token = ?, token_created_at = NOW(), token_used = 0 WHERE id = ?"
    },
    {
      "step_number": 2,
      "name": "Penyusunan Tautan Login",
      "description": "Menggabungkan `BASE_URL` dengan path `/member/token-login` dan token untuk membentuk URL lengkap."
    },
    {
      "step_number": 3,
      "name": "Pengiriman Pesan",
      "description": "Mengirim pesan kepada pengguna dengan tombol inline 'Login ke Panel' yang mengarah ke URL yang telah dibuat."
    }
  ]
}
