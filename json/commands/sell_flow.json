{
  "flow_name": "/sell",
  "summary": "Memulai alur penjualan sebuah media atau grup media.",
  "description": "Dipicu dengan me-reply sebuah media dengan perintah `/sell`. Alur ini memvalidasi prasyarat, lalu meminta penetapan harga untuk membuat paket konten.",
  "initial_checks": [
    {
      "name": "Validasi Prasyarat",
      "description": "Memanggil metode `validatePrerequisites` untuk melakukan serangkaian pemeriksaan:",
      "checks": [
        "Memastikan fitur bot adalah 'sell'.",
        "Memastikan perintah me-reply sebuah pesan media.",
        "Memastikan pengguna sudah terdaftar sebagai penjual. Jika belum, kirim prompt pendaftaran dengan tombol callback `register_seller` dan hentikan alur."
      ]
    },
    {
      "name": "Validasi Media Tersimpan",
      "description": "Memanggil `getValidatedMediaInfo` untuk memastikan media yang di-reply sudah tersimpan di database dan untuk mengambil `media_group_id` serta `caption`-nya."
    }
  ],
  "main_flow": [
    {
      "step_number": 1,
      "name": "Pengaturan State Pengguna",
      "description": "Mengubah state pengguna menjadi 'awaiting_price' dan menyimpan konteks media yang akan dijual.",
      "action": "`UserRepository::setUserState()`"
    },
    {
      "step_number": 2,
      "name": "Permintaan Input Harga",
      "description": "Mengirim pesan kepada pengguna yang meminta mereka untuk memasukkan harga, lengkap dengan deskripsi media dan instruksi pembatalan."
    }
  ],
  "next_flow": "Input harga selanjutnya akan ditangani oleh `AwaitingPriceState`."
}
