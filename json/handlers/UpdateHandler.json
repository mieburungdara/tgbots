{
  "class_name": "UpdateHandler",
  "summary": "Menganalisis tipe update dan menyediakan konteks pesan.",
  "description": "Kelas ini tidak lagi berfungsi sebagai router utama, melainkan sebagai utilitas untuk `UpdateDispatcher`. Tugasnya adalah menentukan jenis update (misalnya, 'message', 'callback_query') berdasarkan pengaturan bot, dan mengekstrak konteks pesan yang konsisten dari berbagai jenis update.",
  "methods": [
    {
      "name": "__construct",
      "description": "Menginisialisasi handler dengan pengaturan bot saat ini.",
      "parameters": [
        {
          "name": "bot_settings",
          "type": "array"
        }
      ]
    },
    {
      "name": "getUpdateType",
      "description": "Mengidentifikasi tipe update dan memeriksa apakah pemrosesannya diaktifkan di pengaturan bot.",
      "parameters": [
        {
          "name": "update",
          "type": "array"
        }
      ],
      "returns": "?string",
      "return_description": "Nama tipe update jika valid dan diizinkan, jika tidak `null`."
    },
    {
      "name": "getMessageContext",
      "description": "Mengekstrak array pesan yang konsisten dari berbagai jenis update (`message`, `edited_message`, `callback_query`, `channel_post`).",
      "parameters": [
        {
          "name": "update",
          "type": "array"
        }
      ],
      "returns": "?array",
      "return_description": "Array pesan yang dinormalisasi, atau `null`."
    },
    {
      "name": "isMediaMessage",
      "description": "Memeriksa apakah sebuah pesan berisi salah satu dari jenis media yang didukung.",
      "parameters": [
        {
          "name": "message",
          "type": "array"
        }
      ],
      "returns": "bool"
    }
  ]
}
