{
  "class_name": "AdminApprovalCallback",
  "implements": "CallbackCommandInterface",
  "summary": "Menangani aksi saat admin menyetujui sebuah kiriman.",
  "description": "Callback ini dipicu ketika seorang admin menekan tombol \"Setujui\" pada pesan moderasi. Ini akan memproses kiriman (misalnya, dari fitur Rate atau Tanya), mempostingnya ke channel publik, dan memberi notifikasi kepada pengguna asli.",
  "methods": [
    {
      "name": "__construct",
      "description": "Menginisialisasi callback dengan instance `App`.",
      "parameters": [{"name": "app", "type": "App", "description": "Objek aplikasi inti."}]
    },
    {
      "name": "execute",
      "description": "Menjalankan logika persetujuan.",
      "parameters": [
        {"name": "callback_query", "type": "array", "description": "Data callback query asli."}, 
        {"name": "parts", "type": "array", "description": "Data dari callback, misal: `['approve', 'submission_id']`."}
      ],
      "logic_flow": [
        "1. Jawab `callback_query` untuk menghilangkan status loading pada tombol.",
        "2. Ambil ID kiriman dari `$parts[1]`.",
        "3. Ambil detail kiriman dari database (misalnya, dari tabel `rate_submissions`).",
        "4. Tentukan channel tujuan berdasarkan tipe kiriman.",
        "5. Salin atau format pesan untuk diposting ke channel publik menggunakan `TelegramAPI`.",
        "6. Kirim notifikasi ke pengguna asli bahwa kiriman mereka telah disetujui dan dipublikasikan.",
        "7. Edit pesan moderasi asli untuk menunjukkan bahwa kiriman telah disetujui (misalnya, menghilangkan tombol).",
        "8. Perbarui status kiriman di database menjadi 'approved'."
      ]
    }
  ]
}