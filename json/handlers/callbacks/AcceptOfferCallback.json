{
  "class_name": "AcceptOfferCallback",
  "implements": "CallbackCommandInterface",
  "summary": "Menangani logika saat penjual menerima penawaran.",
  "description": "Callback ini mengubah status penawaran menjadi 'accepted' dan mengirim notifikasi kepada calon pembeli dengan link pembelian khusus.",
  "methods": [
    {
      "name": "execute",
      "description": "Memvalidasi, memperbarui status, dan memberi notifikasi.",
      "parameters": [
        {
          "name": "app",
          "type": "App"
        },
        {
          "name": "callback_query",
          "type": "array"
        },
        {
          "name": "offer_id",
          "type": "string"
        }
      ],
      "logic_flow": [
        "1. Validasi bahwa penawaran ada, dimiliki oleh penjual, dan statusnya `pending`.",
        "2. Ubah status penawaran di tabel `offers` menjadi `accepted`.",
        "3. Kirim pesan ke calon pembeli bahwa penawaran mereka diterima, lengkap dengan tombol 'Beli Sekarang' yang berisi callback `buy_offer_`.",
        "4. Edit pesan notifikasi asli di chat penjual untuk menandai bahwa penawaran telah diterima."
      ]
    }
  ]
}
