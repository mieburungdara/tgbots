{
  "class_name": "RetractPostCallback",
  "implements": "CallbackCommandInterface",
  "summary": "Menarik kembali (menghapus) sebuah post dari channel penjualan.",
  "description": "Callback ini memungkinkan penjual untuk menghapus post konten mereka dari channel publik. Ini biasanya dipicu dari sebuah tombol pada pesan manajemen konten.",
  "methods": [
    {
      "name": "__construct",
      "description": "Menginisialisasi callback dengan instance `App`.",
      "parameters": [{"name": "app", "type": "App", "description": "Objek aplikasi inti."}]
    },
    {
      "name": "execute",
      "description": "Menjalankan logika penarikan post.",
      "parameters": [
        {"name": "callback_query", "type": "array", "description": "Data callback query asli."}, 
        {"name": "parts", "type": "array", "description": "Data dari callback, misal: `['retract', 'package_id', 'channel_id', 'message_id']`."}
      ],
      "logic_flow": [
        "1. Jawab `callback_query`.",
        "2. Ambil `package_id`, `channel_id`, dan `message_id` dari `$parts`.",
        "3. Validasi bahwa pengguna adalah pemilik paket.",
        "4. Panggil `TelegramAPI::deleteMessage()` dengan `channel_id` dan `message_id` untuk menghapus post.",
        "5. Perbarui status paket di tabel `media_packages` menjadi 'retracted' (opsional).",
        "6. Hapus catatan post dari database (misalnya, dari tabel `channel_posts`).",
        "7. Edit pesan manajemen untuk mengonfirmasi bahwa post telah ditarik."
      ]
    }
  ]
}