{
  "class_name": "BalanceController",
  "extends": "AdminBaseController",
  "summary": "Mengelola saldo pengguna dari panel admin.",
  "description": "Controller ini menyediakan antarmuka bagi admin untuk melihat, menambah, atau mengurangi saldo pengguna secara manual.",
  "dependencies": ["UserRepository"],
  "methods": [
    {
      "name": "index",
      "description": "Menampilkan daftar pengguna beserta saldo mereka.",
      "logic_flow": [
        "1. Mengambil daftar semua pengguna dari `UserRepository`.",
        "2. Merender view `admin/balance/index.php` dengan data pengguna."
      ]
    },
    {
      "name": "update",
      "description": "Memproses permintaan untuk memperbarui saldo seorang pengguna.",
      "logic_flow": [
        "1. Mengambil `user_id` dan jumlah saldo baru dari `$_POST`.",
        "2. Memvalidasi input.",
        "3. Menggunakan `UserRepository` atau kueri langsung untuk `UPDATE users SET balance = ? WHERE id = ?`.",
        "4. Mengalihkan kembali ke halaman daftar saldo dengan pesan sukses."
      ]
    }
  ]
}